Exchange Rate Checker — Вiджет для Zoho CRM


Віджет для модуля Deals, який відстежує поточний курс валют (USD) та пропонує оновити поле у ​​картці угоди, якщо курс змінився. Також відображає історію змін.


Структура проекту:
- `widget.html` — шаблон віджету
- `styles.css` — стилі
- `script.js` — логіка роботи (отримання курсу, побудова списку змін, оновлення поля, збереження історії, відстеження помилок)
- `translation/en.json` — підтримка мультимовності (укр/анг)


Установка: 
1. Проект створений та упакований за допомогою Zoho CLI (вихідні матеріали - у папці app, готовий до роботи архів - у папці dist)
2. Завантаження в Zoho:
    - CRM → Setup → Developer Space → Widgets → Create Widget
    - Завантажити архів .zip
    - Вказати шлях: /widget.html
3. Додавання віджету:
    - Setup → Modules and Fields → Deals → Related List
    - Add Related List → Widget
    - Інсталювати створений віджет


Логіка роботи:
1. При відкритті картки угоди віджет:
    - Отримує поточний курс USD з сайту НБУ (копіюється в LocalStorage на випадок відсутності відповіді від банку у майбутньому)
    - Порівнює з курсом, вказаним у полі угоди
    - При різниці понад 5% з'являється кнопка оновлення курсу в угоді
    - Показує історію змін курсу угоди (5 полів, якщо змін більше, виводить кнопки навігації)
2. При підтвердженні:
    - Оновлює поле в угоді
    - Зберігає запис у модуль Exchange Rate History (кастомний)
    - (для збереження історії потрібно створити модуль Exchange Rate History у Zoho CRM 
        o	Поля модуля:
            ▪	Deal (lookup до модуля Deals)
            ▪	Rate (Decimal)
            ▪	Date (DateTime)
            ▪	Rate Source (Picklist: НБУ, Інше)
            ▪	Difference (Decimal)
        )
3. У разі виникнення помилок сповіщає користувача за допомогою вікна, що випадає, і виводить звіт у консоль


Використовувані API Zoho:
    - ZOHO.CRM.API.getRecord
    - ZOHO.CRM.API.updateRecord
    - ZOHO.CRM.API.insertRecord
    - ZOHO.CRM.API.searchRecord
    - ZOHO.embeddedApp.init()


Тестування:
    - Перевірено у реальному обліковому записі Zoho CRM
    - За допомогою Zoho CLI: zet run запускав локально
    - Після завантаження .zip віджет відображається коректно


Приклад запису до кастомного модуля Exchange Rate History
    {
        "Name": "1751576477553_860494000000501732",
        "Deal": 860494000000501732,
        "Rate": 41.72,
        "Date": Jul 3, 2025 09:01 PM
        "Rate Souce": "НБУ",
        "Difference": 5.1
    }


Використовувані залежності: 
    - Зовнішні бібліотеки не використовуються
    - HTML/CSS/JS
    - Дані про курс беруться з: https://bank.gov.ua/NBUStatService/v1/statdirectory/dollar_info?json


Репозиторій: 
    https://github.com/sinzem/test_rate_widget
    Розроблено у рамках тестового завдання

Автор:
    Сергій Іноземцев 





